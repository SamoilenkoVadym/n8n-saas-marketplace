# MCP Integration Plan

## Цель
Интегрировать MCP (Model Context Protocol) серверы для:
1. Улучшения AI-генерации шаблонов с доступом к реальным данным
2. Импорта готовых шаблонов из MCP в маркетплейс
3. Автоматического скачивания шаблонов из MCP при покупке

## Шаги интеграции

### 1. Настройка MCP клиента на backend
- Установить `@modelcontextprotocol/sdk`
- Создать MCP client конфигурацию
- Подключиться к вашим MCP серверам

### 2. Интеграция с AI Builder
- Добавить инструменты MCP в контекст AI
- AI сможет использовать данные из MCP для создания шаблонов
- Например: реальные API endpoints, доступные сервисы, примеры интеграций

### 3. Синхронизация шаблонов из MCP
- Создать script для импорта метаданных шаблонов из MCP
- Шаблоны сохраняются в БД с типом `mcp_source`
- При покупке - скачивание с MCP сервера

### 4. Обновление модели данных
Добавить поля в Template:
- `sourceType: 'local' | 'mcp'` - источник шаблона
- `mcpServerId: string?` - ID MCP сервера
- `mcpResourceId: string?` - ID ресурса на MCP

## Требуется от вас

1. Конфигурация ваших MCP серверов (из Claude Desktop или другого):
   - Какие серверы используются
   - Endpoints/URLs
   - Аутентификация

2. Структура шаблонов в вашем MCP:
   - Как хранятся шаблоны
   - Формат метаданных
   - API для доступа

3. Какие инструменты MCP хотите использовать в AI Builder

## Пример конфигурации

```json
{
  "mcpServers": {
    "n8n-templates": {
      "command": "node",
      "args": ["/path/to/mcp-server.js"],
      "env": {
        "API_KEY": "your-key"
      }
    }
  }
}
```

Пожалуйста, предоставьте эту информацию для продолжения интеграции.
